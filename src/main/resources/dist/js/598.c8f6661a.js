"use strict";(self["webpackChunkquasardesign"]=self["webpackChunkquasardesign"]||[]).push([[598],{6598:function(e,a,l){l.r(a),l.d(a,{default:function(){return w}});var o=l(4220),t=l(6732),n=l(6381);function r(e){return(0,n.A)({url:"/api/sys/modulo1/table",method:"get",params:e})}var i=l(7939),d=l(5815);const s={class:"q-pa-md"};var u={__name:"index",setup(e){const a=(0,t.Kh)({blurry:"",tableData:[],current:1,size:10,total:0}),l=[{name:"idpedido",required:!0,label:"Mi Id de  Pedido",align:"center",field:"idpedido",sortable:!0},{name:"Fecha de pedido",required:!0,label:"Fecha de pedido",align:"left",field:"fechapedido",sortable:!0,format:e=>d.Ay.formatDate(e,"DD-MM-YYYY")},{name:"fechaenvio",required:!0,label:"fechaenvio",align:"left",field:"fechaenvio",sortable:!0,format:e=>d.Ay.formatDate(e,"DD-MM-YYYY")},{name:"nombrecompania",required:!0,label:"Nombre de la CompaÃ±ia",align:"left",field:"nombrecompania",sortable:!0},{name:"importeventas",required:!0,label:"importeventas",align:"left",field:"importeventas",sortable:!0},{name:"actions",label:"Actions",align:"center",field:"actions",sortable:!1}],n=(0,t.KR)(!1),u=(0,t.KR)({sortBy:"nombre",descending:!1,page:1,rowsPerPage:10}),c=()=>{n.value=!0;const e={blurry:a.blurry,size:a.size,currentPage:u.value.page};r(e).then((e=>{n.value=!1,e.success?(a.tableData=e.data.records,a.total=e.data.total):(0,i.aJ)(e.msg)})).catch((()=>{n.value=!1}))},b=e=>{const{page:l,rowsPerPage:o,sortBy:t,descending:n}=e.pagination;u.value.sortBy=t||"",u.value.descending=n,u.value.page=l,u.value.rowsPerPage=o,a.current=l,a.size=o,console.log("estado current cliente"),console.log(a),c()};return(0,o.sV)((()=>{c(),console.log("estado modulo1"),console.log(a)})),(e,t)=>{const r=(0,o.g2)("q-icon"),i=(0,o.g2)("q-input"),d=(0,o.g2)("q-btn"),g=(0,o.g2)("q-td"),p=(0,o.g2)("q-table"),m=(0,o.g2)("q-pagination"),f=(0,o.g2)("q-page-container"),v=(0,o.g2)("q-layout");return(0,o.uX)(),(0,o.Wv)(v,{view:"hHh lpR fFf"},{default:(0,o.k6)((()=>[(0,o.bF)(f,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",s,[(0,o.bF)(p,{color:"primary","card-class":"bg-amber-5 text-brown","table-class":"text-grey-8","table-header-class":"text-brown",flat:"",bordered:"",ref:"tableRef",title:"Modulo 1 ",rows:a.tableData,columns:l,"row-key":"Pedido",pagination:u.value,"onUpdate:pagination":t[1]||(t[1]=e=>u.value=e),loading:n.value,filter:a.blurry,"binary-state-sort":"",onRequest:b},{"top-right":(0,o.k6)((()=>[(0,o.bF)(i,{borderless:"",dense:"",debounce:"300",modelValue:a.blurry,"onUpdate:modelValue":t[0]||(t[0]=e=>a.blurry=e),placeholder:"Buscar"},{append:(0,o.k6)((()=>[(0,o.bF)(r,{name:"search",onClick:c})])),_:1},8,["modelValue"])])),"body-cell-actions":(0,o.k6)((a=>[(0,o.bF)(g,{props:a},{default:(0,o.k6)((()=>[(0,o.bF)(d,{onClick:l=>e.onEdit(a.row),"fab-mini":"",dense:"",square:"",outline:"",icon:"mode_edit",color:"primary","aria-label":"Edit",class:"q-mr-sm"},null,8,["onClick"]),(0,o.bF)(d,{onClick:l=>e.onDelete(a.row),"fab-mini":"",dense:"",square:"",outline:"",icon:"delete",color:"negative","aria-label":"Delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","pagination","loading","filter"]),(0,o.bF)(m,{modelValue:u.value.page,"onUpdate:modelValue":[t[2]||(t[2]=e=>u.value.page=e),c],max:Math.ceil(a.total/u.value.rowsPerPage)},null,8,["modelValue","max"])])])),_:1})])),_:1})}}},c=l(3555),b=l(6284),g=l(1598),p=l(4985),m=l(4503),f=l(3403),v=l(407),h=l(4183),q=l(2110),y=l.n(q);const k=u;var w=k;y()(u,"components",{QLayout:c.A,QPageContainer:b.A,QTable:g.A,QInput:p.A,QIcon:m.A,QTd:f.A,QBtn:v.A,QPagination:h.A})}}]);
//# sourceMappingURL=598.c8f6661a.js.map