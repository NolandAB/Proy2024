{"version":3,"file":"js/598.c8f6661a.js","mappings":"sMAEO,SAASA,EAAgBC,GAC5B,OAAOC,EAAAA,EAAAA,GAAQ,CACXC,IAAK,yBACLC,OAAQ,MACRH,UAER,C,iFC+CE,MAAMI,GAAQC,EAAAA,EAAAA,IAAS,CACrBC,OAAQ,GACRC,UAAW,GACXC,QAAS,EACTC,KAAM,GACNC,MAAO,IAIHC,EAAU,CACd,CAAEC,KAAM,WACRC,UAAU,EACVC,MAAO,mBACPC,MAAO,SACPC,MAAO,WACPC,UAAU,GAEV,CAAEL,KAAM,kBACRC,UAAU,EACVC,MAAO,kBACPC,MAAO,OACPC,MAAO,cACPC,UAAU,EAAMC,OAAQC,GAAOC,EAAAA,GAAAA,WAAgBD,EAAK,eAEpD,CAAEP,KAAM,aAAcC,UAAU,EAAMC,MAAO,aAAcC,MAAO,OAAQC,MAAO,aAAcC,UAAU,EAAMC,OAAQC,GAAOC,EAAAA,GAAAA,WAAgBD,EAAK,eACnJ,CAAEP,KAAM,iBAAkBC,UAAU,EAAMC,MAAO,wBAA0BC,MAAO,OAAQC,MAAO,iBAAkBC,UAAU,GAC7H,CAAEL,KAAM,gBAAiBC,UAAU,EAAMC,MAAO,gBAAiBC,MAAO,OAAQC,MAAO,gBAAiBC,UAAU,GAClH,CAACL,KAAM,UAAWE,MAAO,UAAWC,MAAO,SAAUC,MAAO,UAAWC,UAAU,IAI7EI,GAAUC,EAAAA,EAAAA,KAAI,GACdC,GAAaD,EAAAA,EAAAA,IAAI,CACrBE,OAAQ,SACRC,YAAY,EACZC,KAAM,EACNC,YAAa,KAGTC,EAAqBA,KACzBP,EAAQQ,OAAQ,EAChB,MAAM7B,EAAS,CAEbM,OAAQF,EAAME,OAEdG,KAAML,EAAMK,KAEZqB,YAAaP,EAAWM,MAAMH,MAGhC3B,EAAgBC,GACb+B,MAAMC,IACLX,EAAQQ,OAAQ,EACZG,EAAIC,SACN7B,EAAMG,UAAYyB,EAAIE,KAAKC,QAC3B/B,EAAMM,MAAQsB,EAAIE,KAAKxB,QAEvB0B,EAAAA,EAAAA,IAASJ,EAAIK,IACf,IAEDC,OAAM,KACLjB,EAAQQ,OAAQ,CAAK,GACrB,EAGAU,EAAaC,IACjB,MAAM,KAAEd,EAAI,YAAEC,EAAW,OAAEH,EAAM,WAAEC,GAAee,EAAMjB,WACxDA,EAAWM,MAAML,OAASA,GAAU,GACpCD,EAAWM,MAAMJ,WAAaA,EAC9BF,EAAWM,MAAMH,KAAOA,EACxBH,EAAWM,MAAMF,YAAcA,EAE/BvB,EAAMI,QAAUkB,EAChBtB,EAAMK,KAAOkB,EACbc,QAAQC,IAAI,0BACZD,QAAQC,IAAItC,GACZwB,GAAoB,E,OAItBe,EAAAA,EAAAA,KAAU,KACRf,IACAa,QAAQC,IAAI,kBACZD,QAAQC,IAAItC,EAAM,I,4rDCvItB,MAAMwC,EAAc,EAEpB,QAUA,IAAS,EAAQ,aAAc,CAACC,QAAO,mBAAe,WAAO,WAAO,UAAM,QAAI,SAAK,gBAAY,K","sources":["webpack://quasardesign/./src/api/modulo1/modulo1.js","webpack://quasardesign/./src/views/modulo1/index.vue","webpack://quasardesign/./src/views/modulo1/index.vue?a219"],"sourcesContent":["import request from \"../../utils/request\";\r\n\r\nexport function getModulo1Table(params){\r\n    return request({\r\n        url: '/api/sys/modulo1/table',\r\n        method: 'get',\r\n        params\r\n    })\r\n}","<template>\r\n    <q-layout view=\"hHh lpR fFf\">\r\n      <q-page-container>       \r\n        <div class=\"q-pa-md\">\r\n          <q-table\r\n          color=\"primary\"\r\n      card-class=\"bg-amber-5 text-brown\"\r\n      table-class=\"text-grey-8\"\r\n      table-header-class=\"text-brown\"\r\n            flat\r\n            bordered\r\n            ref=\"tableRef\"\r\n            title=\"Modulo 1 \"\r\n            :rows=\"state.tableData\"\r\n            :columns=\"columns\"\r\n            row-key=\"Pedido\"\r\n            v-model:pagination=\"pagination\"\r\n            :loading=\"loading\"\r\n            :filter=\"state.blurry\"\r\n            binary-state-sort\r\n            @request=\"onRequest\"\r\n           \r\n          >\r\n            <template v-slot:top-right>\r\n              <q-input borderless dense debounce=\"300\" v-model=\"state.blurry\" placeholder=\"Buscar\">\r\n                <template v-slot:append>\r\n                  <q-icon name=\"search\" @click=\"getModulo1TableFun\" />\r\n                </template>\r\n              </q-input>\r\n            </template>\r\n            <template v-slot:body-cell-actions=\"props\">\r\n              <q-td :props=\"props\">\r\n                <q-btn @click=\"onEdit(props.row)\" fab-mini dense square outline icon=\"mode_edit\" color=\"primary\" aria-label=\"Edit\" class=\"q-mr-sm\" />\r\n                <q-btn @click=\"onDelete(props.row)\" fab-mini dense square outline icon=\"delete\" color=\"negative\" aria-label=\"Delete\" />\r\n              </q-td>\r\n            </template>\r\n\r\n          </q-table>\r\n          <q-pagination\r\n            v-model=\"pagination.page\"\r\n            :max=\"Math.ceil(state.total / pagination.rowsPerPage)\" \r\n            @update:model-value=\"getModulo1TableFun\"\r\n          />\r\n        </div>\r\n      </q-page-container>\r\n    </q-layout>\r\n  </template>\r\n  <script setup>\r\n  import { ref, reactive, onMounted } from 'vue';\r\n  import {  getModulo1Table } from '../../api/modulo1/modulo1';\r\n  import { errorMsg } from '../../utils/message';\r\n  import { date } from 'quasar';\r\n \r\n\r\n\r\n  const state = reactive({\r\n    blurry: '',\r\n    tableData: [],\r\n    current: 1,\r\n    size: 10,\r\n    total: 0\r\n  });\r\n  \r\n\r\n  const columns = [\r\n    { name: 'idpedido', \r\n    required: true, \r\n    label: 'Mi Id de  Pedido', \r\n    align: 'center', \r\n    field: 'idpedido', \r\n    sortable: true },\r\n\r\n    { name: 'Fecha de pedido', \r\n    required: true, \r\n    label: 'Fecha de pedido', \r\n    align: 'left', \r\n    field: 'fechapedido', \r\n    sortable: true, format: val => date.formatDate(val, 'DD-MM-YYYY')   },\r\n\r\n    { name: 'fechaenvio', required: true, label: 'fechaenvio', align: 'left', field: 'fechaenvio', sortable: true, format: val => date.formatDate(val, 'DD-MM-YYYY')  },\r\n    { name: 'nombrecompania', required: true, label: 'Nombre de \\la Compañia', align: 'left', field: 'nombrecompania', sortable: true },\r\n    { name: 'importeventas', required: true, label: 'importeventas', align: 'left', field: 'importeventas', sortable: true },\r\n    {name: 'actions', label: 'Actions', align: 'center', field: 'actions', sortable: false}\r\n  ];\r\n\r\n  \r\n  const loading = ref(false);\r\n  const pagination = ref({\r\n    sortBy: 'nombre',\r\n    descending: false,\r\n    page: 1,\r\n    rowsPerPage: 10,\r\n  });\r\n  \r\n  const getModulo1TableFun = () => {\r\n    loading.value = true;\r\n    const params = {\r\n      // texto a buscar\r\n      blurry: state.blurry,\r\n      // tamaño \r\n      size: state.size,\r\n      // Usa la página actual de la paginación\r\n      currentPage: pagination.value.page \r\n    };\r\n  \r\n    getModulo1Table(params)\r\n      .then((res) => {\r\n        loading.value = false;\r\n        if (res.success) {\r\n          state.tableData = res.data.records;\r\n          state.total = res.data.total;\r\n        } else {\r\n          errorMsg(res.msg);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        loading.value = false;\r\n      });\r\n  };\r\n  \r\n  const onRequest = (props) => {\r\n    const { page, rowsPerPage, sortBy, descending } = props.pagination;\r\n    pagination.value.sortBy = sortBy || '';\r\n    pagination.value.descending = descending;\r\n    pagination.value.page = page;\r\n    pagination.value.rowsPerPage = rowsPerPage;\r\n  \r\n    state.current = page; // Actualiza el estado actual\r\n    state.size = rowsPerPage; // Actualiza el tamaño de la página\r\n    console.log('estado current cliente');\r\n    console.log(state);\r\n    getModulo1TableFun();\r\n    \r\n  };\r\n  \r\n  onMounted(() => {\r\n    getModulo1TableFun();\r\n    console.log('estado modulo1');\r\n    console.log(state);\r\n  });\r\n  </script>\r\n  ","import script from \"./index.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./index.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__\nimport QLayout from 'quasar/src/components/layout/QLayout.js';\nimport QPageContainer from 'quasar/src/components/page/QPageContainer.js';\nimport QTable from 'quasar/src/components/table/QTable.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QTd from 'quasar/src/components/table/QTd.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QPagination from 'quasar/src/components/pagination/QPagination.js';\nimport qInstall from \"../../../node_modules/vue-cli-plugin-quasar/lib/runtime.auto-import.js\";\nqInstall(script, 'components', {QLayout,QPageContainer,QTable,QInput,QIcon,QTd,QBtn,QPagination});\n"],"names":["getModulo1Table","params","request","url","method","state","reactive","blurry","tableData","current","size","total","columns","name","required","label","align","field","sortable","format","val","date","loading","ref","pagination","sortBy","descending","page","rowsPerPage","getModulo1TableFun","value","currentPage","then","res","success","data","records","errorMsg","msg","catch","onRequest","props","console","log","onMounted","__exports__","QLayout"],"sourceRoot":""}