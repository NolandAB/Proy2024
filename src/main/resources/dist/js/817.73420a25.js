"use strict";(self["webpackChunkquasardesign"]=self["webpackChunkquasardesign"]||[]).push([[817],{9300:function(e,a,l){l.r(a),l.d(a,{default:function(){return f}});l(6029);var o=l(4220),n=l(6732),i=l(9798),u=l(7700),t=l(3503),r=l(7939),d=l(7251);const s=["onClick"],c={style:{display:"flow-root"}};var p={__name:"editMenu",props:{dialogVisible:{type:Boolean,require:!0,default:!1},menuObj:Object},emits:["update:dialogVisible","get-list"],setup(e,{emit:a}){const p=e,m=a,b=(0,o.EW)({get:()=>p.dialogVisible,set:e=>m("update:dialogVisible",e)}),f=(0,n.KR)({id:null,parentId:0,name:"",path:"",component:"",permission:"",type:"1",icon:""}),g=(0,n.Kh)({parentId:[{required:!0,message:"El menú de nivel superior no puede estar vacío",trigger:"change"}],sort:[{required:!0,message:"La clasificación no puede estar vacía",trigger:"blur"}],name:[{required:!0,message:"El nombre del menú no puede estar vacío",trigger:"blur"}],path:[{required:!0,message:"La ruta del menú no puede estar vacía",trigger:"blur"}],component:[{required:!0,message:"La ruta del componente no puede estar vacía",trigger:"blur"}],permission:[{required:!0,message:"Los permisos no pueden estar vacíos",trigger:"blur"}]}),v={title:"Nuevo",iconList:[]},_=(0,n.KR)([]),k=(0,n.KR)([{value:0,label:"directorio de nivel superior",children:[]}]),y=(0,n.KR)(),h=(0,n.KR)(!1),F=()=>{v.title="Nuevo",(0,d.E)(y.value),h.value=!1,V(),p.menuObj.id&&(v.title="Editar",f.value=p.menuObj),W()},V=()=>{(0,t.GK)().then((e=>{e.success?k.value[0].children=e.data:(0,r.aJ)(e.msg)}))},C=()=>{y.value.validate((e=>{e&&(h.value=!0,(0,t.Qu)(f.value).then((e=>{e.success?((0,r.j3)(e.data),b.value=!1,m("get-list")):(0,r.aJ)(e.msg),h.value=!1})))}))},W=()=>{const e=l(2930),a=JSON.parse(JSON.stringify(e.glyphs));_.value=a.map((e=>(e.font_class="iconfont icon-"+e.font_class,e)))},w=e=>{f.value.icon=e};return(e,a)=>{const l=(0,o.g2)("el-input"),t=(0,o.g2)("el-form-item"),r=(0,o.g2)("el-tree-select"),p=(0,o.g2)("el-col"),m=(0,o.g2)("el-row"),V=(0,o.g2)("el-radio"),W=(0,o.g2)("el-radio-group"),x=(0,o.g2)("el-popover"),O=(0,o.g2)("el-form"),j=(0,o.g2)("el-button"),U=(0,o.g2)("el-dialog");return(0,o.uX)(),(0,o.Wv)(U,{title:v.title,modelValue:b.value,"onUpdate:modelValue":a[10]||(a[10]=e=>b.value=e),draggable:"","close-on-click-modal":!1,onOpened:F},{footer:(0,o.k6)((()=>[(0,o.Lk)("span",null,[(0,o.bF)(j,{onClick:a[9]||(a[9]=e=>(0,n.R1)(d.E)(y.value))},{default:(0,o.k6)((()=>a[14]||(a[14]=[(0,o.eW)("reiniciar")]))),_:1}),(0,o.bF)(j,{type:"primary",loading:h.value,onClick:C},{default:(0,o.k6)((()=>a[15]||(a[15]=[(0,o.eW)("seguro")]))),_:1},8,["loading"])])])),default:(0,o.k6)((()=>[(0,o.bF)(O,{model:f.value,rules:g,ref_key:"menuRef",ref:y,"label-width":"120px"},{default:(0,o.k6)((()=>[(0,o.bo)((0,o.bF)(t,{prop:"id"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{modelValue:f.value.id,"onUpdate:modelValue":a[0]||(a[0]=e=>f.value.id=e)},null,8,["modelValue"])])),_:1},512),[[i.aG,!1]]),(0,o.bF)(m,null,{default:(0,o.k6)((()=>[(0,o.bF)(p,{span:12},{default:(0,o.k6)((()=>[(0,o.bF)(t,{label:"Directorio principal",prop:"parentId"},{default:(0,o.k6)((()=>[(0,o.bF)(r,{"key-node":"value",modelValue:f.value.parentId,"onUpdate:modelValue":a[1]||(a[1]=e=>f.value.parentId=e),data:k.value,"check-strictly":"","render-after-expand":!1},null,8,["modelValue","data"])])),_:1})])),_:1}),(0,o.bF)(p,{span:12},{default:(0,o.k6)((()=>[(0,o.bF)(t,{label:"clasificar",prop:"sort"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{modelValue:f.value.sort,"onUpdate:modelValue":a[2]||(a[2]=e=>f.value.sort=e),placeholder:"Por favor ingrese clasificación",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,o.bF)(t,{label:"tipo de menu",prop:"type"},{default:(0,o.k6)((()=>[(0,o.bF)(W,{modelValue:f.value.type,"onUpdate:modelValue":a[3]||(a[3]=e=>f.value.type=e)},{default:(0,o.k6)((()=>[(0,o.bF)(V,{label:"1"},{default:(0,o.k6)((()=>a[11]||(a[11]=[(0,o.eW)("menu")]))),_:1}),(0,o.bF)(V,{label:"2"},{default:(0,o.k6)((()=>a[12]||(a[12]=[(0,o.eW)("pagina")]))),_:1}),(0,o.bF)(V,{label:"3"},{default:(0,o.k6)((()=>a[13]||(a[13]=[(0,o.eW)("boton")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.bF)(t,{label:"nombre del menu",prop:"name"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{modelValue:f.value.name,"onUpdate:modelValue":a[4]||(a[4]=e=>f.value.name=e),placeholder:"Por favor ingresa un nombre de menú",clearable:""},null,8,["modelValue"])])),_:1}),(0,o.bF)(t,{label:"seleccionar icono",prop:"icon"},{default:(0,o.k6)((()=>[(0,o.bF)(x,{placement:"bottom",trigger:"click",width:"300px;"},{reference:(0,o.k6)((()=>[(0,o.bF)(l,{modelValue:f.value.icon,"onUpdate:modelValue":a[5]||(a[5]=e=>f.value.icon=e),"prefix-icon":"PorFavorSeleccioneUnIconoDeMenu",clearable:""},null,8,["modelValue"])])),default:(0,o.k6)((()=>[(0,o.bF)(m,{class:"icon-row"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(_.value,((e,a)=>((0,o.uX)(),(0,o.Wv)(p,{key:a,span:8},{default:(0,o.k6)((()=>[(0,o.Lk)("i",{class:(0,u.C4)(e.font_class),style:{"font-size":"40px"},onClick:a=>w(e.font_class)},null,10,s),(0,o.Lk)("i",c,(0,u.v_)(e.name),1)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),"2"===f.value.type||"3"===f.value.type?((0,o.uX)(),(0,o.Wv)(t,{key:0,label:"camino de acceso",prop:"path"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{modelValue:f.value.path,"onUpdate:modelValue":a[6]||(a[6]=e=>f.value.path=e),placeholder:"Por favor ingrese la ruta del menú"},null,8,["modelValue"])])),_:1})):(0,o.Q3)("",!0),"2"===f.value.type?((0,o.uX)(),(0,o.Wv)(t,{key:1,label:"ruta del componente",prop:"component"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{modelValue:f.value.component,"onUpdate:modelValue":a[7]||(a[7]=e=>f.value.component=e),placeholder:"Por favor ingresa a la pagina component"},null,8,["modelValue"])])),_:1})):(0,o.Q3)("",!0),"3"===f.value.type?((0,o.uX)(),(0,o.Wv)(t,{key:2,label:"Permisos de botones",prop:"permission"},{default:(0,o.k6)((()=>[(0,o.bF)(l,{modelValue:f.value.permission,"onUpdate:modelValue":a[8]||(a[8]=e=>f.value.permission=e),placeholder:"Por favor ingrese los permisos"},null,8,["modelValue"])])),_:1})):(0,o.Q3)("",!0)])),_:1},8,["model","rules"])])),_:1},8,["title","modelValue"])}}},m=l(1317);const b=(0,m.A)(p,[["__scopeId","data-v-38ae5762"]]);var f=b},1198:function(e,a,l){l.r(a),l.d(a,{default:function(){return g}});var o=l(4220),n=l(6732),i=l(3503),u=l(7939),t=l(7251),r=l(9300),d=l(7918);const s={class:"searchDiv"},c={key:0},p={key:1},m={key:2};var b={__name:"index",setup(e){const a=(0,n.KR)(!1),l=(0,n.Kh)({blurry:"",menuObj:{},tableData:[]});(0,o.sV)((()=>{b()}));const b=()=>{(0,i.Yd)({blurry:l.blurry}).then((e=>{e.success?l.tableData=e.data:(0,u.aJ)(e.msg)}))},f=e=>{a.value=!0,l.menuObj=e.id?e:{},console.log("hizo click menu")},g=(e,a)=>{d.s.confirm("Confirmar eliminar menú【"+a+"】？","Pista",{confirmButtonText:"Seguro",cancelButtonText:"Cancelar",type:"warning"}).then((()=>{(0,i.$7)({id:e}).then((e=>{e.success?((0,u.j3)(e.data),b()):(0,u.aJ)(e.msg)}))})).catch((()=>{(0,u.SV)("Operacion Cancelada")}))};return(e,i)=>{const u=(0,o.g2)("el-input"),d=(0,o.g2)("el-button"),v=(0,o.g2)("el-table-column"),_=(0,o.g2)("el-table");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Lk)("div",s,[(0,o.bF)(u,{class:"searchInput",modelValue:l.blurry,"onUpdate:modelValue":i[0]||(i[0]=e=>l.blurry=e),placeholder:"Por favor ingrese un nombre de menú o ruta",clearable:""},null,8,["modelValue"]),(0,o.bF)(d,{type:"primary",onClick:b},{default:(0,o.k6)((()=>i[2]||(i[2]=[(0,o.eW)("Consulta")]))),_:1}),(0,n.R1)(t.s)("menu:add")?((0,o.uX)(),(0,o.Wv)(d,{key:0,onClick:f,style:{float:"right"}},{default:(0,o.k6)((()=>i[3]||(i[3]=[(0,o.eW)("Nuevo")]))),_:1})):(0,o.Q3)("",!0)]),(0,o.bF)(_,{data:l.tableData,"row-key":"id",border:"",height:"calc(100vh - 180px)","max-height":"calc(100vh - 180px)"},{default:(0,o.k6)((()=>[(0,o.bF)(v,{label:"Nombre del Menu",prop:"name"}),(0,o.bF)(v,{label:"ruta del menú",prop:"path"}),(0,o.bF)(v,{label:"component",prop:"component"}),(0,o.bF)(v,{label:"Permisos",prop:"permission"}),(0,o.bF)(v,{label:"Tipo",prop:"type"},{default:(0,o.k6)((e=>["1"===e.row.type?((0,o.uX)(),(0,o.CE)("span",c,"Menu")):"2"===e.row.type?((0,o.uX)(),(0,o.CE)("span",p,"Pagina")):"3"===e.row.type?((0,o.uX)(),(0,o.CE)("span",m,"Boton")):(0,o.Q3)("",!0)])),_:1}),(0,o.bF)(v,{label:"Clasificar",prop:"sort"}),(0,o.bF)(v,{label:"Funcionar",prop:"option",width:"150px",align:"center"},{default:(0,o.k6)((e=>[(0,n.R1)(t.s)("menu:edit")?((0,o.uX)(),(0,o.Wv)(d,{key:0,type:"primary",onClick:a=>f(JSON.parse(JSON.stringify(e.row)))},{default:(0,o.k6)((()=>i[4]||(i[4]=[(0,o.eW)("Editar")]))),_:2},1032,["onClick"])):(0,o.Q3)("",!0),(0,n.R1)(t.s)("menu:del")?((0,o.uX)(),(0,o.Wv)(d,{key:1,type:"danger",onClick:a=>g(e.row.id,e.row.name)},{default:(0,o.k6)((()=>i[5]||(i[5]=[(0,o.eW)("Borrar")]))),_:2},1032,["onClick"])):(0,o.Q3)("",!0)])),_:1})])),_:1},8,["data"]),(0,o.bF)((0,n.R1)(r["default"]),{"dialog-visible":a.value,"onUpdate:dialogVisible":i[1]||(i[1]=e=>a.value=e),"menu-obj":l.menuObj,onGetList:b},null,8,["dialog-visible","menu-obj"])])}}};const f=b;var g=f},2930:function(e){e.exports=JSON.parse('{"id":"3689733","name":"ems-admin","font_family":"iconfont","css_prefix_text":"icon-","description":"","glyphs":[{"icon_id":"12704884","name":"Código de verificación","font_class":"captcha","unicode":"e609","unicode_decimal":58889},{"icon_id":"12865693","name":"setting","font_class":"setting","unicode":"e6f0","unicode_decimal":59120},{"icon_id":"1166053","name":"registro","font_class":"rizhi","unicode":"e61c","unicode_decimal":58908},{"icon_id":"1304947","name":"menú","font_class":"caidan","unicode":"e62c","unicode_decimal":58924},{"icon_id":"3702619","name":"gestión de roles","font_class":"navicon-jsgl","unicode":"e640","unicode_decimal":58944},{"icon_id":"3782922","name":"gestión de roles","font_class":"jiaoseguanli","unicode":"e60f","unicode_decimal":58895},{"icon_id":"8106227","name":"home","font_class":"home","unicode":"e69b","unicode_decimal":59035},{"icon_id":"11372676","name":"contraseña","font_class":"password","unicode":"e8b2","unicode_decimal":59570},{"icon_id":"12704986","name":"nombre de usuario","font_class":"username","unicode":"e60a","unicode_decimal":58890},{"icon_id":"12753449","name":"Gestión de usuarios","font_class":"yonghuguanli_huaban","unicode":"e62d","unicode_decimal":58925}]}')}}]);
//# sourceMappingURL=817.73420a25.js.map